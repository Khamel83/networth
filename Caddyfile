tennis-match.deer-panga.ts.net {
    reverse_proxy localhost:8000
    encode gzip

    # Health check endpoint
    handle /health {
        reverse_proxy localhost:8000
    }

    # Static files with caching
    handle /static/* {
        reverse_proxy localhost:8000
    }

    # Security headers
    header {
        X-Content-Type-Options nosniff
        X-Frame-Options DENY
        X-XSS-Protection "1; mode=block"
        Referrer-Policy strict-origin-when-cross-origin
    }

    # Logging
    log {
        output file /var/log/caddy/tennis-match.log {
            roll_size 100mb
            roll_keep 5
            roll_keep_for 720h
        }
        format json
    }
}