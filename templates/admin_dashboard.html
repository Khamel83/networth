{% extends "base.html" %}
{% block title %}Admin Dashboard - NET WORTH{% endblock %}
{% block content %}
<h1><i class="fas fa-shield-alt"></i> Admin Dashboard</h1>

<div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1.5rem; margin: 2rem 0;">
    <div class="card" style="background: var(--info); color: white;">
        <h3>Total Players</h3>
        <p style="font-size: 3rem; font-weight: 700;">{{ total_players }}</p>
    </div>
    <div class="card" style="background: var(--warning); color: white;">
        <h3>Pending Scores</h3>
        <p style="font-size: 3rem; font-weight: 700;">{{ pending_scores }}</p>
    </div>
    <div class="card" style="background: var(--secondary); color: white;">
        <h3>Confirmed Matches</h3>
        <p style="font-size: 3rem; font-weight: 700;">{{ confirmed_matches }}</p>
    </div>
</div>

<div style="display: grid; grid-template-columns: 1fr 1fr; gap: 2rem;">
    <div class="card">
        <h2>Quick Actions</h2>
        <div style="display: flex; flex-direction: column; gap: 1rem;">
            <a href="/admin/players/add" class="btn btn-primary"><i class="fas fa-user-plus"></i> Add Player</a>
            <a href="/admin/scores" class="btn btn-warning"><i class="fas fa-clipboard-check"></i> Review Scores ({{ pending_scores }})</a>
            <a href="/admin/players" class="btn btn-secondary"><i class="fas fa-users"></i> Manage Players</a>
        </div>
    </div>

    <div class="card">
        <h2>Recent Activity</h2>
        {% if recent_activity %}
        <ul style="list-style: none;">
            {% for activity in recent_activity[:5] %}
            <li style="padding: 0.5rem 0; border-bottom: 1px solid var(--light-gray);">
                <small>{{ activity.created_at[:10] }}</small><br>
                {{ activity.player1_name }} vs {{ activity.player2_name }}
                <span style="color: var(--{% if activity.status == 'confirmed' %}secondary{% else %}warning{% endif %});">â€¢ {{ activity.status }}</span>
            </li>
            {% endfor %}
        </ul>
        {% else %}
        <p>No recent activity.</p>
        {% endif %}
    </div>
</div>
{% endblock %}
